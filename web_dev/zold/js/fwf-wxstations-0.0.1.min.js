function createPopupContent(t){var e='<div class="table-title"  > <a href="https://cerodell.github.io/fwf-docs/build/html/web.html" target="_blank"><img class="icon" src="/static/img/fwf-info.png" width="24" height="24"></a>   ';return e+="<h3> WMO Station "+t.wmo+" </h3></div>",e+='<table class="table-fill">',e+='<thead> <tr> <th class="text-left">Variable  </th> <th class="text-left">Bias  </th> <th class="text-left">Pearson  </th> <th class="text-left">'+t.DateTime+"      </th></tr> </thead>",e+='<tbody class="table-hover"><tr>',e+='<td class="text-left">FFMC</td><td class="text-left">'+t.FFMC_b+'<td class="text-left">'+t.FFMC_c+'</td> <td class="text-left">'+t.FFMC+"</td></tr>",e+='<td class="text-left">DMC</td><td class="text-left">'+t.DMC_b+'<td class="text-left">'+t.DMC_c+'</td> <td class="text-left">'+t.DMC+"</td></tr>",e+='<td class="text-left">DC</td><td class="text-left">'+t.DC_b+'<td class="text-left">'+t.DC_c+'</td> <td class="text-left">'+t.DC+"</td></tr>",e+='<td class="text-left">ISI</td><td class="text-left">'+t.ISI_b+'<td class="text-left">'+t.ISI_c+'</td> <td class="text-left">'+t.ISI+"</td></tr>",e+='<td class="text-left">BUI</td><td class="text-left">'+t.BUI_b+'<td class="text-left">'+t.BUI_c+'</td><td class="text-left">'+t.BUI+"</td> </tr>",e+='<td class="text-left">FWI</td><td class="text-left">'+t.FWI_b+'<td class="text-left">'+t.FWI_c+'</td><td class="text-left">'+t.FWI+"</td> </tr>",e+='<td class="text-left">WSP<br>(km/hr)</td><td class="text-left">'+t.WSP_b+'<td class="text-left">'+t.WSP_c+'</td> <td class="text-left">'+t.WS+" (km/hr)</td></tr>",e+='<td class="text-left">TEMP<br>(C)</td><td class="text-left">'+t.TEMP_b+'<td class="text-left">'+t.TEMP_c+'</td><td class="text-left">'+t.TEMP+" (C)</td> </tr>",e+='<td class="text-left">RH<br>(%)</td><td class="text-left">'+t.RH_b+'<td class="text-left">'+t.RH_c+'</td> <td class="text-left">'+t.RH+" (%)</td></tr>",e+='<td class="text-left">QPF<br>(mm)</td><td class="text-left">'+t.QPF_b+'<td class="text-left">'+t.QPF_c+'</td> <td class="text-left">'+t.PRECIP+" (mm)</td></tr>"}var wx_station=L.layerGroup();const customOptions={maxWidth:"500",className:"custom-popup"};fetch(wxstations).then(function(t){return t.json()}).then(function(t){for(var e of Object.keys(t)){var s=t[e],l=t[e].lat,a=t[e].lng,c=t[e].prearsons,d=["#8e0152","#c82582","#e285b8","#f5c4e1","#faeaf3","#eef6e1","#c7e89f","#8cc450","#539725","#276419"];color=c>=.8?d[9]:c<.8&&c>=.6?d[8]:c<.6&&c>=.4?d[7]:c<.4&&c>=.2?d[6]:c<.2&&c>=0?d[5]:c<0&&c>=-.2?d[4]:c<-.2&&c>=-.4?d[3]:c<-.4&&c>=-.6?d[2]:c<-.6&&c>=-.8?d[1]:d[0],wx_station.addLayer(L.circle([l,a],{radius:4e3,color:color,fillColor:color,fillOpacity:.92}).bindPopup(createPopupContent(s)))}});
